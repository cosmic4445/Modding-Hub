<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>TGM's Modding Hub - Gorilla Tag Mods</title>
<meta name="theme-color" content="#667eea">
<style>
    *{margin:0;padding:0;box-sizing:border-box}
    body{font-family:Segoe UI, Tahoma, Geneva, Verdana, sans-serif;background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;min-height:100vh}
    .container{max-width:1200px;margin:0 auto;padding:20px}
    header{text-align:center;padding:48px 20px;background:rgba(0,0,0,.28);border-radius:16px;margin-bottom:32px}
    h1{font-size:2.4rem;margin-bottom:6px}
    .tagline{opacity:.95}
    .featured-section{background:rgba(255,255,255,.06);border-radius:12px;padding:20px;margin-bottom:20px}
    h2{font-size:1.3rem;color:#ffd700}
    .mod-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:18px;margin-top:18px}
    .mod-card{background:rgba(0,0,0,.38);border-radius:12px;padding:16px;border:1px solid rgba(255,255,255,.06)}
    .download-btn{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:#fff;border:none;padding:10px 18px;border-radius:999px;cursor:pointer;font-weight:700}
    .small{font-size:.85rem;opacity:.85}
    .viewer-counter{background:rgba(0,0,0,.35);padding:8px 12px;border-radius:999px;display:inline-block}
    footer{text-align:center;padding:24px;margin-top:30px;background:rgba(0,0,0,.28);border-radius:12px}
    .badges{margin-bottom:8px}
    .badge{display:inline-block;background:#ffd700;color:#222;padding:4px 10px;border-radius:999px;font-weight:700;margin-right:6px}
    .community-badge{background:#ff6b9d}
    .verified-badge{background:#00ff88;color:#042}
    .install-progress{width:100%;height:12px;background:rgba(255,255,255,.08);border-radius:8px;overflow:hidden;margin-top:8px}
    .install-progress > div{height:100%;width:0%;background:linear-gradient(90deg,#00d2ff,#00ff88);transition:width .25s}
    .likes{display:flex;gap:8px;align-items:center}
    .like-btn,.dislike-btn{background:rgba(255,255,255,.06);border:1px solid rgba(255,255,255,.06);padding:6px 10px;border-radius:6px;cursor:pointer}
    .empty-state{text-align:center;padding:24px;opacity:.8}
    @media(min-width:900px){h1{font-size:3rem}}
</style>
</head>
<body>
<div class="container">
    <header>
        <h1>ü¶ç TGM's Modding Hub</h1>
        <p class="tagline small">Your Ultimate Gorilla Tag Modding Destination ‚Äî 2025</p>
        <div style="margin-top:10px;">
            <span class="viewer-counter" id="viewerCounter">Viewers: ‚Äî</span>
        </div>
    </header>

    <div class="featured-section">
        <h2>‚ö†Ô∏è Important Information</h2>
        <p class="small"><strong>Please Note:</strong> Modding should only be done in private lobbies or modded lobbies. Using mods in public lobbies may result in a ban from Gorilla Tag. Always respect the game's terms of service and other players!</p>
    </div>

    <div class="featured-section">
        <h2>üî• Mods I Want (quick install)</h2>
        <p class="small">Click <strong>Install</strong> to download & install directly to your Gorilla Tag folder (uses the browser's File System Access API ‚Äî Chrome/Edge required). If your browser doesn't support it the page will fall back to a direct download.</p>
        <div class="mod-grid" id="modsGrid"></div>
    </div>

    <div class="featured-section">
        <h2>üë• Community Mods</h2>
        <p class="small">Community features: people can like & dislike mods. Likes are stored locally in your browser ‚Äî replace with a server endpoint for global likes.</p>
        <div class="mod-grid" id="communityModGrid">
            <div class="empty-state" id="communityEmpty">üì¶ No Community Mods Yet ‚Äî upload to add one.</div>
        </div>
    </div>

    <div class="featured-section">
        <h2>üåê Website</h2>
        <ul class="small" style="line-height:1.7">
            <li>Add a viewer counter (shows active viewers on this browser/profile). To make it global you need a server-side component ‚Äî instructions below.</li>
            <li>Changed the year to <strong>2025</strong>.</li>
            <li>Added: <em>"Made by Cuber. Please use code responsibly please."</em></li>
            <li>Discord server link: <a href="https://discord.gg/wmkB5WU8BV" target="_blank" rel="noopener" style="color:#fff;text-decoration:underline">Join our Discord</a></li>
        </ul>
    </div>

    <div class="featured-section">
        <h2>üìö Installation Guide (automated)</h2>
        <ol class="small" style="line-height:1.7">
            <li>Install BepInEx for Gorilla Tag (required for many mods).</li>
            <li>Click <strong>Install</strong> on a mod ‚Äî the browser will download the mod zip and ask you to pick your <code>Gorilla Tag</code> installation folder.</li>
            <li>The installer will extract files into <code>BepInEx/plugins</code>. If your mod is a single .dll it will be placed in <code>BepInEx/plugins</code> as well.</li>
            <li>Launch Gorilla Tag and enjoy. If you run into problems, check console logs in this page for feedback.</li>
        </ol>
    </div>

    <footer>
        <p>&copy; 2025 TGM's Modding Hub | For Educational Purposes Only</p>
        <p class="small" style="margin-top:6px">Always mod responsibly and respect the community!<br><em>Made by Cuber. Please use code responsibly please.</em></p>
    </footer>
</div>

<div id="toast" style="position:fixed;right:16px;bottom:16px;background:rgba(0,0,0,.6);padding:12px 16px;border-radius:10px;display:none;color:#fff;z-index:9999"></div>

<script src="https://cdn.jsdelivr.net/npm/jszip@3.10.0/dist/jszip.min.js"></script>
<script>
const MODS = [
    { id: 'monkeymod', name: 'MonkeyModManager', description: 'Manager for installing & organizing Gorilla Tag mods.', file: 'MonkeyModManager.exe', verified: true },
    { id: 'essentials', name: 'Essentials (for GTAG)', description: 'Essentials pack for GTAG.', file: 'Essentials_GTAG.dll', verified: true },
    { id: 'camera', name: "Pokruk's Camera Mod", description: 'Advanced camera controls and recording.', file: 'Pokruk_Camera.dll', verified: false },
    { id: 'gorillamedia', name: 'GorillaMedia', description: 'Custom media player for in-game content.', file: 'GorillaMedia.dll', verified: false },
    { id: 'iis_menu', name: "II's Stupid menu", description: 'Feature-rich in-game menu (use responsibly).', file: 'IIs_Stupid_Menu.dll', verified: false },
    { id: 'wak', name: 'Wak Simulator', description: 'Wak-themed simulator mod.', file: 'Wak_Simulator.dll', verified: false },
    { id: 'ragdoll', name: 'Ragdoll Mod', description: 'Adds ragdoll physics to players.', file: 'Ragdoll_Mod.dll', verified: false },
    { id: 'sodium', name: 'Sodium 1.7.0', description: 'Performance mod - Sodium 1.7.0', file: 'Sodium.dll', verified: true }
];

const modsGrid = document.getElementById('modsGrid');

function toast(msg, time = 3500){
    const t = document.getElementById('toast');
    t.textContent = msg; t.style.display = 'block';
    clearTimeout(t._to);
    t._to = setTimeout(()=> t.style.display='none', time);
}

// --- Render Mods ---
function renderMods(){
    modsGrid.innerHTML = '';
    MODS.forEach(mod => {
        const card = document.createElement('div');
        card.className = 'mod-card';
        const badges = [];
        if(mod.verified) badges.push('<span class="badge verified-badge">‚úì VERIFIED</span>');
        card.innerHTML = `
            <div class="badges">${badges.join(' ')}</div>
            <h3>${mod.name}</h3>
            <p class="small">${mod.description}</p>
            <div style="display:flex;gap:8px;align-items:center;margin-top:10px">
                <button class="download-btn" data-modid="${mod.id}">Install</button>
                <input type="file" accept=".dll,.exe" style="display:none" id="fileInput-${mod.id}">
            </div>
        `;
        modsGrid.appendChild(card);

        // Install button triggers file select
        const installBtn = card.querySelector('[data-modid]');
        const fileInput = card.querySelector(`#fileInput-${mod.id}`);
        installBtn.addEventListener('click', ()=> fileInput.click());

        // When file is selected, write it to BepInEx/plugins
        fileInput.addEventListener('change', async (e)=>{
            const file = e.target.files[0];
            if(!file){ toast('No file selected'); return; }
            if(!('showDirectoryPicker' in window)){ toast('Automatic install not supported ‚Äî file downloaded'); return; }

            try {
                toast('Pick your Gorilla Tag folder');
                const dirHandle = await window.showDirectoryPicker();
                const bepinexHandle = await getOrCreateDir(dirHandle,'BepInEx');
                const pluginsHandle = await getOrCreateDir(bepinexHandle,'plugins');

                const arrayBuffer = await file.arrayBuffer();
                await writeFile(pluginsHandle, file.name, new Uint8Array(arrayBuffer));
                toast(`Installed ${file.name} to BepInEx/plugins!`);
            } catch(err){
                console.error(err);
                toast('Install failed: '+err.message, 6000);
            }
        });
    });
}

async function getOrCreateDir(root, name){ 
    return await root.getDirectoryHandle(name, {create:true}); 
}

async function writeFile(dirHandle, filename, uint8array){ 
    const f = await dirHandle.getFileHandle(filename, {create:true}); 
    const w = await f.createWritable(); 
    await w.write(uint8array); 
    await w.close(); 
}

renderMods();
</script>
